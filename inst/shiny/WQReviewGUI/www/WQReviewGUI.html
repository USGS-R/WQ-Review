<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="T. Joe Mills and Colin Penn" />

<meta name="date" content="2019-02-27" />

<title>WQReview GUI User Manual</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">WQReview GUI User Manual</h1>
<h4 class="author"><em>T. Joe Mills and Colin Penn</em></h4>
<h4 class="date"><em>2019-02-27</em></h4>


<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#importing-data-using-wqreview">Importing Data Using WQReview</a><ul>
<li><a href="#load-the-wqreview-package-and-open-the-wqreview-gui-from-r-or-rstudio">Load the WQReview package and open the WQReview GUI from R or RStudio</a></li>
<li><a href="#load-wqreview-from-the-desktop-or-start-menu-standalone-executable">Load WQReview from the desktop or start menu standalone executable</a></li>
<li><a href="#data-import-options">Data import options</a></li>
<li><a href="#a-basic-data-import-example-for-a-single-site">A basic data import, example for a single site</a></li>
</ul></li>
<li><a href="#creating-plots-in-wqreview">Creating Plots in WQReview</a><ul>
<li><a href="#symbology">Symbology</a></li>
<li><a href="#labelling-conventions">Labelling conventions</a></li>
<li><a href="#selecting-data-to-plot">Selecting data to plot</a></li>
<li><a href="#global-plot-controls">Global plot controls</a><ul>
<li><a href="#new-samples-threshold">New samples threshold</a></li>
<li><a href="#record-highlights">Record highlights</a></li>
<li><a href="#toolbar-for-interactive-graphicsplots">Toolbar for interactive graphics/plots</a></li>
</ul></li>
</ul></li>
<li><a href="#result-level-review-tab">Result-level review tab</a><ul>
<li><a href="#generate-plots">Generate plots</a><ul>
<li><a href="#timeseries-plot">Timeseries plot</a></li>
<li><a href="#seasonal-plot">Seasonal plot</a></li>
<li><a href="#parameter-parameter-plot">Parameter-parameter plot</a></li>
<li><a href="#parameter-boxplot">Parameter boxplot</a></li>
</ul></li>
</ul></li>
<li><a href="#troubleshoot-charge-balance-tab">Troubleshoot charge balance tab</a><ul>
<li><a href="#charge-balance-timeseries">Charge balance timeseries</a></li>
<li><a href="#ions-vs-conductance">Ions vs conductance</a></li>
</ul></li>
<li><a href="#blanks-and-rep-comparison-tab">Blanks and Rep comparison tab</a><ul>
<li><a href="#comparison-of-blank-detections-boxplot">Comparison of blank detections boxplot</a></li>
<li><a href="#repliacte-agreement-boxplot">Repliacte agreement boxplot</a></li>
</ul></li>
<li><a href="#tables">Tables</a><ul>
<li><a href="#auto-flagged-samples">Auto-flagged samples</a><ul>
<li><a href="#dqi-needs-review">DQI needs review</a></li>
<li><a href="#ready-for-dqi-change">Ready for DQI change</a></li>
<li><a href="#chemical-sense">Chemical sense</a></li>
<li><a href="#charge-balance-issues">Charge balance issues</a></li>
<li><a href="#whole-vs-part">Whole vs Part</a></li>
<li><a href="#pesticide-flags">Pesticide flags</a></li>
<li><a href="#replicate-table">Replicate table</a></li>
<li><a href="#blank-table">Blank table</a></li>
<li><a href="#all-charge-balance">All charge balance</a></li>
<li><a href="#data-by-result">Data by result</a></li>
<li><a href="#data-by-sample">Data by sample</a></li>
<li><a href="#qwsample-and-qwresult">qwsample and qwresult</a></li>
</ul></li>
<li><a href="#nwis-flag-descriptions">NWIS Flag descriptions</a><ul>
<li><a href="#sc_badlabvsfield">SC_badLabVSField</a></li>
<li><a href="#section">30.01.</a></li>
<li><a href="#ph-higher-than-expected">30.02. pH higher than expected</a></li>
<li><a href="#dissolved-oxygen-higher-than-expected">30.03. Dissolved Oxygen higher than expected</a></li>
<li><a href="#greater-than-max-value-in-old-data">30.11. Greater than max value in old data</a></li>
<li><a href="#less-than-min-value-in-old-data">30.12. Less than min value in old data</a></li>
<li><a href="#schedule-2437-pesticide-hits-greater-than-max-hits-in-old-data">30.13. Schedule 2437 Pesticide hits greater than max hits in old data</a></li>
<li><a href="#less-than-minimum-pesticide-hits-in-old-data">30.14 Less than minimum pesticide hits in old data</a></li>
<li><a href="#greater-than-99p-in-old-data">30.15. Greater than 99p in old data</a></li>
<li><a href="#less-than-1p-in-old-data">30.16. Less than 1p in old data</a></li>
<li><a href="#questionable-cation-anion-balance">30.21. Questionable cation-anion balance</a></li>
</ul></li>
</ul></li>
<li><a href="#suggested-wqreview-and-qwdata-workflow-for-flipping-dqi-codes">Suggested WQReview and QWDATA workflow for flipping DQI codes</a><ul>
<li><a href="#wqreview">WQReview</a></li>
<li><a href="#qwdata---consult-with-your-water-quality-specialist-local-data-manager-andor-data-base-administrator-about-your-wsc-practices-for-batch-file-changes-in-qwdata.">QWDATA - Consult with your Water Quality Specialist, Local Data Manager, and/or Data Base Administrator about your WSC practices for batch file changes in QWDATA.</a></li>
</ul></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This manual describes use of the WQReview 2.0 version. The WQReview R-package allows import of water-quality data from the U.S. Geological Survey’s National Water Information System utilizing ODBC connections. It allows review of those data using a series of interactive graphical interfaces through a graphical user interface (GUI) and tabular output of data. Finally, it allows selection of specific water-quality results for updating of data quality indicator (DQI) codes using QWDATA after data review.</p>
</div>
<div id="importing-data-using-wqreview" class="section level1">
<h1>Importing Data Using WQReview</h1>
<p>This section describes the process to import data into the WQReview Graphical User Interface (GUI).</p>
<p>The GUI window will open in your system’s default internet browser. <strong>It is required that the GUI be run in Google Chrome.</strong> If the GUI opens in internet explorer, you need to change your system’s default browser to Google Chrome by opening Google Chrome and going to settings -&gt; default browser.</p>
<div id="load-the-wqreview-package-and-open-the-wqreview-gui-from-r-or-rstudio" class="section level2">
<h2>Load the WQReview package and open the WQReview GUI from R or RStudio</h2>
<ol style="list-style-type: decimal">
<li>Load the WQReview package by typing the following into your R script or command window:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(WQReview)</code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>To open the GUI run the WQReviewGUI() function</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">WQReviewGUI</span>()</code></pre></div>
</div>
<div id="load-wqreview-from-the-desktop-or-start-menu-standalone-executable" class="section level2">
<h2>Load WQReview from the desktop or start menu standalone executable</h2>
<ol style="list-style-type: decimal">
<li>This requires the WQReview 2.0 executable setup installer program has previously been run on the local computer</li>
<li>Navigate to the start menu WQReview 2.0 folder or desktop icon</li>
<li>Click (start menu) or double-click (desktop icon) the WQReview 2.0 icon</li>
<li>A command window will appear, <strong>Do not close this window, it will disappear when the WQReview browser tab is closed</strong></li>
<li>The WQReview GUI will launch in an internet browser tab</li>
</ol>
</div>
<div id="data-import-options" class="section level2">
<h2>Data import options</h2>
<p>Data import is accessed by choosing the “Import from internal NWIS server” option under the “Import/Save Data” tab at the top of the WQReview GUI. The “Import from internal NWIS server” option has 11 main inputs.</p>
<p>There are three options available to choose data to import. You need to use only one of these options to import data:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Site number</strong>: This input accepts (a) manually entered site number(s). Type the site number in the box and click “Add” or hit keyboard Enter key. You may add as many site numbers as you would like by typing or copying them into the Site number box. Do not separate with commas; hitting the Enter key after each site number entry separates the site numbers. Remove a site number by clicking it and hitting the backspace or delete keys. Alternatively, click in the box and press the backspace key to incrementally remove the numbers starting with the last entry. Site numbers default to sites with a USGS agency code. To specify agency code append the agency code and a dash (-) before the site number (e.g. USEPA-333330112164801) in the site number box.</p></li>
<li><p><strong>Site number file</strong>: This input accepts a file of site numbers. The file must be a single column text file of site numbers. Make sure leading zero’s have not been removed if using excel to generate the file. Site numbers default to sites with a USGS agency code. To specify agency code append the agency code and a dash (-) before the site number (e.g. USEPA-333330112164801) in the site number file.</p></li>
<li><p><strong>Project codes</strong>: This input accepts a 9-digit project code (the last nine digits of USGS project numbers) and will select all data associated with this project code.</p></li>
</ol>
<p>There are three options to select parameter codes associated with data you will import. You only need one of these options:</p>
<ol start="4" style="list-style-type: decimal">
<li><p><strong>Parameter codes</strong>: This input takes manually entered parameter codes (pcodes). This input box behaves the same as the site number input box.</p></li>
<li><p><strong>Parameter groups</strong>: This input is used to select NWIS parameter groups to retrieve, rather than explicitly selecting individual pcodes.</p></li>
<li><p><strong>pCode file</strong>: This input takes a file of pcodes. The file must be a single column text file of pcodes. Make sure leading zero’s have not been removed if using excel to generate the file.</p></li>
</ol>
<p>The remaining options are all mandatory and will bracket the dates used to restrict your data import, the server data is imported from, and the local databases that will be queried for the data import.</p>
<ol start="7" style="list-style-type: decimal">
<li><p><strong>Start date</strong>: The start date for the data import. Samples collected after this date will be retrieved. The default value is 10 years before the current date.</p></li>
<li><p><strong>End date</strong>: The end date for the data import. Samples collected before this date will be retrieved. The default is the current date.</p></li>
<li><p><strong>Server name (DSN)</strong>: The name of your NWIS server data source name (DSN) that was established during ODBC setup.</p></li>
<li><p><strong>Environmental DB number</strong>: The number coresponding to the environmental database. Default is “01”</p></li>
<li><p><strong>QA DB Number</strong>: The number coresponding to the QA sample database. Default is “02”</p></li>
</ol>
</div>
<div id="a-basic-data-import-example-for-a-single-site" class="section level2">
<h2>A basic data import, example for a single site</h2>
<p>We will start with a basic data import for a single site by parameter groups.</p>
<ol style="list-style-type: decimal">
<li>Double check that your server name and database numbers are correct for your data.</li>
<li>Type a site numer into the site number input box and hit Enter key.</li>
<li>Select “All” parameter groups from the Parameter groups select box to pull data for all parameters or select a specific group of parameters. **Beware, if pulling selected groups of parameters (e.g. “cations”) chargebalance may not be calculated.</li>
<li>Leave the date range input unchanged to pull the last 10 years of data or enter a date range in the date range input to pull a subset of the data.</li>
<li>Click the “Get data” button at the bottom left to import the data.</li>
<li>A dialogue box and status bar describing the import process will appear in the bottom right corner of the GUI.</li>
<li>A Microsoft Excel workbook window will pop-up and populate with tabs of reports.</li>
<li>Once data have been retrieved, text will be displayed listing the results of the data import. This process can take a few seconds after the Excel workbook populates to show up.</li>
</ol>
<p>If you encounter issues with the data import, send an email to <a href="mailto:cpenn@usgs.gov">cpenn@usgs.gov</a> and/or post an issue on the WQReview GitHub page at <a href="https://github.com/USGS-R/WQ-Review/issues">WQ-Review Issues</a></p>
<p>We can now begin to work with the data.</p>
</div>
</div>
<div id="creating-plots-in-wqreview" class="section level1">
<h1>Creating Plots in WQReview</h1>
<p>This section will describe the plot types available and their functionality in the WQReview GUI and the various ways to manipulate them.</p>
<p>There are three tabs in WQReview where plots are generated and viewed: Result-level review; Troubleshoot charge balance; and Blanks and Rep comparison. Within these three tabs, there are some common features including symbology, labeling conventions, selecting data to plot, and global plot controls described in sections of those names. Within each tab, there are some unique features described in sections titled for each tab.</p>
<div id="symbology" class="section level2">
<h2>Symbology</h2>
<p>The symbology in all plots is sensitive to the medium code and remark code. Data colors are mapped to the medium code and point data symbols are mapped to the remark code.</p>
<p>Currently supported medium codes include:</p>
<ol style="list-style-type: decimal">
<li>WS</li>
<li>WG</li>
<li>OA</li>
<li>WSQ</li>
<li>WGQ</li>
<li>OAQ</li>
</ol>
<p>Currently supported remark codes include:</p>
<ol style="list-style-type: decimal">
<li>No remark code (listed as “Sample” in legend)</li>
<li>“&lt;”</li>
<li>“&gt;”</li>
<li>“E”</li>
</ol>
</div>
<div id="labelling-conventions" class="section level2">
<h2>Labelling conventions</h2>
<p>All axes pertaining to a particular pcode will be labelled with that pcode’s NWIS parameter name, which includes the units of measurement. The main title of the plot will either by labelled with the NWIS station name if only one station is plotted, or “multi-site plot” if multiple stations are displayed.</p>
</div>
<div id="selecting-data-to-plot" class="section level2">
<h2>Selecting data to plot</h2>
<p>Generally, plots are generated by selecting a station or stations from the “stations” box and then a data type from the “Parameter” box (in the Result-level review tab only), and then choosing multisite or facet from the “Multi-site option box”. In most cases the plot will be displayed or refreshed automatically. <strong>PLOTS WILL NOT BE DISPLAYED IF A SITE AND DATA TYPE ARE NOT SELECTED EVEN IF ONLY ONE SITE OR DATA TYPE WAS IMPORTED.</strong> Additionally, a plot will not be displayed if there are no data to plot, for example if a particular parameter was not measured at a selected site but is selected for plotting. Plots showing multiple parameters for multiple sites can be generated for certain plot types using the “Multi-site options” box.</p>
</div>
<div id="global-plot-controls" class="section level2">
<h2>Global plot controls</h2>
<div id="new-samples-threshold" class="section level3">
<h3>New samples threshold</h3>
<p>Point data in some plots can be labeled as “New” data based on when those data were last modified using the “New samples threshold” date input in the “Result-level review” tab. Any data modified after the date indicated in this box will be labeled as “New” in relevant plots, but not all plots. This process helps identify data that has not been reviewed from historic data when the data are displayed on plots other than timeseries plots. The “New samples threshold” chosen on the ”Result-level review” tab also applies to the “Troubleshoot charge balance” and “Blanks and Rep comparison” tabs, even if a different “Station” is chosen on those tabs. Note that the “New samples threshold” is determined from when data were last <strong>modified</strong> for result-level plots (e.g. timeseries, seasonal, etc.) not when they were created. Sample-level plots ( in “Troubleshoot charge balance” and “Blanks and Rep comparison” are labeled new according to the sample collection date.</p>
</div>
<div id="record-highlights" class="section level3">
<h3>Record highlights</h3>
<p>In the “Result-level review” tab, samples or results will be highlighted with a red halo if that sample or result has been selected in the data table located below the “Refresh from excel” button.</p>
</div>
<div id="toolbar-for-interactive-graphicsplots" class="section level3">
<h3>Toolbar for interactive graphics/plots</h3>
<p>Most plots are interactive in that the user can hover on a point to see information or zoom into specific areas of the plot. Boxplots are not interactive.</p>
<p>The tool bar at the top of this section appears on hovering in the area at the upper right-hand corner of all interactive graphics. The tools function as follows:</p>
<ol style="list-style-type: decimal">
<li>Camera: Allows you to download a plot as a .png file.</li>
<li>Directional arrows: Allows you to pan grab and move (pan) the graphic.</li>
<li>Plus symbol: Zooms in by fixed amount. Note that you can also select an area of the plot to zoom into by holding down a mouse click and drawing a rectangle around the area of interest when the cursor on the graphic is a simple plus shape.</li>
<li>Minus symbol: Zooms out by fixed amount.<br />
</li>
<li>House: Resets the axes after zooming to default extent initially shown.</li>
<li>Right-angle points (Toggle Spike Lines): Inactive tool for WQReview graphics</li>
<li>Large tab (Show data on hover): Shows info and value of pcode for that sample and graph on hovering near the point.</li>
<li>Top and bottom tabs (Compare data on hover): shows value for sample you are near, and associated QA sample, if relevant.</li>
</ol>
</div>
</div>
</div>
<div id="result-level-review-tab" class="section level1">
<h1>Result-level review tab</h1>
<p>This section will describe the details of each plot in teh Result-level review tab how to control them in the WQReview GUI.</p>
<div id="generate-plots" class="section level2">
<h2>Generate plots</h2>
<ol style="list-style-type: decimal">
<li>In the Station box, choose a station or stations from the sites you imported by clicking sequentially on the sites you want to view. Backspace to remove an entry.</li>
<li>Choose a parameter from the drop down list in the Parameter box. You can start to type in constituent name or pcode and the list will narrow to one or a few choices. Click on the choice of interest. Backspace to clear the entry and start over.<br />
</li>
<li>Multi-site options: Multisite will plot all data from all sites on one graph. Facet will separate data onto different graphs, one per site.<br />
</li>
<li>New samples threshold: Add a date here and samples modified or collected after this date will be labeled on plots as “new”, subject to the details described in the “Global Plot Controls, New samples threshold” section.<br />
</li>
<li>Choose a parameter to plot in the “Parameter” box. Input pcode, words from the pcode, or choose from drop down list as described in “Creating plots in WQReview, selecting data to plot section.</li>
</ol>
<p>This page generates timeseries plots at the top, seasonal plots below timeseries plots, parameter-parameter plots below seasonal plots, and parameter boxplot at the bottom. The tool bar described in the “toolbar for interactive graphics/plots” is accessed by hovering in the upper right portion of each plot and clicking on an option. Data options and plot controls for all three sets of plots on this page include:</p>
<ul>
<li>Select one or multiple sites</li>
<li>Multi-site options: Plot all sites on one plot (multisite) or plot sites on individual side-by-side plots (facet).</li>
<li>Label DQI: Superimposes the sample DQI_CD over the point</li>
</ul>
<div id="timeseries-plot" class="section level3">
<h3>Timeseries plot</h3>
<p>Generates a plot of a selected parameter through time.</p>
<div id="uses" class="section level4">
<h4>Uses</h4>
<ul>
<li>Identifying general trends at a site through time.</li>
<li>Identifying temporal outliers.</li>
</ul>
</div>
<div id="data-selection-options" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select only one parameter from the dropdown list or in the left-side data table linked from Excel.</li>
</ul>
</div>
<div id="plot-controls" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>Add LOESS: Adds a locally weighted scatterplot smooth and shaded 95% confidence interval around the smooth</li>
<li>Display hydrograph: displays the instantaneous hydrograph if data are available under parameter code “00061”</li>
</ul>
</div>
</div>
<div id="seasonal-plot" class="section level3">
<h3>Seasonal plot</h3>
<p>Generates a seasonal timeseries of parameter value by day of year (DOY) to examine seasonality in parameter values.</p>
<div id="uses-1" class="section level4">
<h4>Uses</h4>
<ul>
<li>Identifying seasonality in parameter values.</li>
<li>Identifying seasonal outliers.</li>
</ul>
</div>
<div id="data-selection-options-1" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select only one parameter from the dropdown list or in the left-side data table linked from Excel.</li>
</ul>
</div>
<div id="plot-controls-1" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>Add LOESS: Adds a locally weighted scatterplot smooth and shaded 95% confidence interval around the smooth</li>
</ul>
</div>
</div>
<div id="parameter-parameter-plot" class="section level3">
<h3>Parameter-parameter plot</h3>
<p>Generates an x-y plot of a selected parameter vs another selected parameter. The two side-by-side plots default to the selected parameter vs. discharge and vs. Specific Conductance.</p>
<div id="uses-2" class="section level4">
<h4>Uses</h4>
<ul>
<li>Identifying relationships between parameters.</li>
<li>Identifying outliers in related parameters.</li>
</ul>
</div>
<div id="data-selection-options-2" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select only one parameter from the dropdown list or in the left-side data table linked from Excel, for the Y-axis parameter</li>
<li>Select only one parameter from the X-Parameter box</li>
</ul>
</div>
<div id="plot-controls-2" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>Add linear fit: Add a linear regression line to the x-y data.</li>
<li>Log 10 scale: This plots parameter values on a log10 scale.</li>
</ul>
</div>
</div>
<div id="parameter-boxplot" class="section level3">
<h3>Parameter boxplot</h3>
<p>Generates a boxplot of the selected parameter</p>
<div id="uses-3" class="section level4">
<h4>Uses</h4>
<ul>
<li>Identifying outliers</li>
</ul>
</div>
<div id="data-selection-options-3" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select only one parameter from the dropdown list or in the left-side data table linked from Excel</li>
</ul>
</div>
<div id="plot-controls-3" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>None</li>
<li>Plot is not interactive</li>
</ul>
</div>
</div>
</div>
</div>
<div id="troubleshoot-charge-balance-tab" class="section level1">
<h1>Troubleshoot charge balance tab</h1>
<p>This tab generates a timeseries plot of charge balance and an x-y plot of sum of cations or anions vs conductance.</p>
<div id="charge-balance-timeseries" class="section level3">
<h3>Charge balance timeseries</h3>
<p>The top plot is a timeseries plot of charge balance percent difference. The plot is annotated with a horizontal dashed line indicating the range of +- 5% and a solid line indicating the range of +- 10%. Symbol type indicates if enough major elements were analyzed to constitute a roughly complete balance. For example, a sample missing calcium would be given a symbol of “Incomplete” because it is a major constituent in the charge balance, but a sample missing fluoride would still be given a “Complete” symbol because it is only a minor constituent of the charge balance.</p>
<div id="uses-4" class="section level4">
<h4>Uses</h4>
<ul>
<li>Obtaining a quick visual snapshot of charge imbalance at a site.</li>
<li>Identifying charge imbalance issues with current data and comparing to historic charge balance behavior.</li>
</ul>
</div>
<div id="data-selection-options-4" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select one or multiple sites. If one site is chosen, title of the plot is the name of the site. If multiple sites are chosen, title of plot is “multisite charge balance plot. If multisite facet option is chosen, title of each plot is the name of the sites.</li>
</ul>
</div>
<div id="plot-controls-4" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>Multi-site options: Plot all sites on one plot (multisite) or plot sites on individual side-by-side plots (facet).</li>
</ul>
</div>
</div>
<div id="ions-vs-conductance" class="section level3">
<h3>Ions vs conductance</h3>
<p>This plot is an x-y plot of sum of cations or anions (in meq/L) vs conductance. The ratio of the sum of cations or anions vs specific conductance generally falls within a range of 0.92 - 1.24 for natural waters. These are the values used in QWData for alert limits, see QWData documentation and references therein for further explanation.</p>
<p>At many sites, there will be a roughly linear relationship between the sum of cations or anions vs. conductance. If a point falls above or below the general trend, it may be an indication that the particular group of ions is either too low or too high.</p>
<div id="uses-5" class="section level4">
<h4>Uses</h4>
<ul>
<li>Identifying samples that fall outside of the typical range of ratios of ions/specific conductance.</li>
<li>Identifying which group of ions, cations or anions, are responsible for charge imbalance issues.</li>
</ul>
</div>
<div id="data-selection-options-5" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select one or multiple sites</li>
</ul>
</div>
<div id="plot-controls-5" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>Multi-site options: Plot all sites on one plot (multisite) or plot sites on individual side-by-side plots (facet).</li>
</ul>
</div>
</div>
</div>
<div id="blanks-and-rep-comparison-tab" class="section level1">
<h1>Blanks and Rep comparison tab</h1>
<p>This tab generates a boxplot of blank detections and a boxplot of replicate relative percent difference.</p>
<div id="comparison-of-blank-detections-boxplot" class="section level3">
<h3>Comparison of blank detections boxplot</h3>
<p>This pane generates a box plot of parameter values for blanks above reporting level, organized by DQI code.</p>
<div id="uses-6" class="section level4">
<h4>Uses</h4>
<ul>
<li>Identifying systematic detections in blank samples of unapproved data compared to approved detections.</li>
</ul>
</div>
<div id="data-selection-options-6" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select one or multiple sites</li>
<li>Select one parameter</li>
</ul>
</div>
<div id="plot-controls-6" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>Multi-site options: Plot all sites on one plot (multisite) or plot sites on individual side-by-side plots (facet).</li>
</ul>
</div>
</div>
<div id="repliacte-agreement-boxplot" class="section level3">
<h3>Repliacte agreement boxplot</h3>
<p>This pane generates a plot of replicate relative percent difference for all replicates analyzed at a given site, organized by DQI code. <strong>READ THE FOLLOWING ON REPLICATE PAIRING</strong></p>
<p>Replicate pairs are identified as follows:</p>
<ol style="list-style-type: decimal">
<li>An environmental sample is a sample with medium code of WS or WG and a sample type of 7.</li>
<li>A replicate sample is a sample with a medium code of WSQ or WGQ and a sample type of 7.</li>
<li>An environmental-replicate pair is defined as a replicate sample collected at the same site as an environmental sample on the same day.</li>
</ol>
<p><strong>NOTE THAT CENSORED RESULTS ARE GIVEN THE CENSORED VALUE FOR CALCULATIONS. DO NOT INTERPRET REPLICATE ANALYSES BASED ENTIRELY OFF OF THE RELATIVE PERCENT DIFFERENCE PLOT. SEE REPLICATE TABLE AS WELL.</strong></p>
<div id="uses-7" class="section level4">
<h4>Uses</h4>
<ul>
<li>Assessing general replicate agreement at a site for multiple parameters.</li>
<li>Comparing current replicate analyses to historic agreement.</li>
</ul>
</div>
<div id="data-selection-options-7" class="section level4">
<h4>Data selection options</h4>
<ul>
<li>Select one or multiple sites</li>
<li>Select one parameter</li>
</ul>
</div>
<div id="plot-controls-7" class="section level4">
<h4>Plot controls</h4>
<ul>
<li>Multi-site options: Plot all sites on one plot (multisite) or plot sites on individual side-by-side plots (facet).</li>
</ul>
</div>
</div>
</div>
<div id="tables" class="section level1">
<h1>Tables</h1>
<p>This section describe the various tables generated and output to an Excel Workbook by the WQReview GUI.</p>
<div id="auto-flagged-samples" class="section level2">
<h2>Auto-flagged samples</h2>
<p>During data import, samples or results populate a Microsoft excel workbook where they are auto-flagged following criteria developed by NAWQA for all water-quality data that are defined in each tab description or at the end of this section. For any flags comparing a sample that needs review to historic data, the current sample is compared only to all REVIEWED AND ACCEPTED data in the time frame used to import data into WQReview, rather than compared to all prior samples. This is because other data that have not been reviewed and accepted could themselves be problematic and should not be included in the comparison with other samples or results that need review. Flags are displayed in the following tabs: * DQI needs review * Chemical sense * Charge balance issues * Whole vs Par * Pesticide flags * Replicate table * Blank table * All charge balance</p>
<div id="dqi-needs-review" class="section level3">
<h3>DQI needs review</h3>
<p>This tab contains all samples in the data pull with a DQI code S, I, or P, and any flags based on comparisons to approved data (see NWIS Flags descriptions at the end of this section). This tab is dynamically linked to the Chrome browser GUI Result-level review tab. Samples in the Excel tab can be sorted or deleted and the resulting format will appear in the lower lefthand table in Chrome when the “Refresh from excel” button is clicked. Filtering on columns in Excel is not recommended as it is not dynamically linked and can cause errors if rows are deleted while in a filtered state.</p>
</div>
<div id="ready-for-dqi-change" class="section level3">
<h3>Ready for DQI change</h3>
<p>This tab starts with column headers and empty rows. As records are reviewed in the “Unapproved data” tab, they can be copied and pasted into this tab, with columns for the new reviewed DQI code and comments. Any records in the tab will be used to create qwsample and qwresult tabs in Excel when the “Generate batch files” button is clicked in the WQReview GUI in Chrome.</p>
</div>
<div id="chemical-sense" class="section level3">
<h3>Chemical sense</h3>
<p>This table contains basic chemical checks similar to those provided by the QWDATA unix software. The first 7 columns contain sample-level information and the remaining columns contain flags with the column name coorresponding to the particular data check. If a sample fails a given data check, a flag is applied to the respective column for that sample. See NWIS Flags descriptions at the end of this section.</p>
</div>
<div id="charge-balance-issues" class="section level3">
<h3>Charge balance issues</h3>
<p>This tab contains flags related to charge balance check 30.21 described in the NWIS Flags descriptions at the end of this section. It is also dynamically linked to the table found under the “Troubleshoot charge balance” tab in the WQRevie GUI inChrome.</p>
</div>
<div id="whole-vs-part" class="section level3">
<h3>Whole vs Part</h3>
<p>This tab compares filtered and unfiltered constituents and flags results based on comparison of filtered and unfiltered result values.</p>
</div>
<div id="pesticide-flags" class="section level3">
<h3>Pesticide flags</h3>
<p>This table contains flags for evaluating the number of pesticide hits in schedule 2437. If there are too many or too few hits in the current sample compared to historic data, the sample will be flagged.</p>
</div>
<div id="replicate-table" class="section level3">
<h3>Replicate table</h3>
<p>This table contains all replicate pairs based on the same replicate coding criteria as the Replicate agreement boxplot described in the previous section. Samples are flagged based on whether Relative Percent Difference between the replicates exceeds 10% and whether comparison of replicates is affected by one or both values having a remark code.</p>
</div>
<div id="blank-table" class="section level3">
<h3>Blank table</h3>
<p>This table summarizes all blank samples in the pulled data, organized by parameter. The BD90.90 column calculates the BD90.90 value of the blank which is a value calculated when there are repeated hits on a blank. It is the blank sample concentration corresponding to the 90th percentile of the blank hit values at least the 90 percent confidence level. In other words, there is at least a 90 percent chance that at least 90 percent of all environmental samples will have contamination less than the BD90.90 value for a particular analyte. This calculation is based on USGS SIR 2012-5139 (<a href="https://pubs.usgs.gov/sir/2012/5139/" class="uri">https://pubs.usgs.gov/sir/2012/5139/</a>) and can be useful in situations where there is unexplained, or recurring contamination of the blank samples.</p>
</div>
<div id="all-charge-balance" class="section level3">
<h3>All charge balance</h3>
<p>This table is a “wide” format of all sample charge balance data, including cation and anion sums, individual constituent values, and general flags for samples with charge imbalance.</p>
</div>
<div id="data-by-result" class="section level3">
<h3>Data by result</h3>
<p>This table contains all data pulled from NWIS in the “long” format, ie. by record number, parameter code, and result value.</p>
</div>
<div id="data-by-sample" class="section level3">
<h3>Data by sample</h3>
<p>This table contains all data pulled from NWIS in the “wide” format, ie. by record number date/time and all associated parameter result values.</p>
</div>
<div id="qwsample-and-qwresult" class="section level3">
<h3>qwsample and qwresult</h3>
<p>These tabs will be present when the “Generate batch files” button is pressed in the WQReview GUI in Chrome. See “Ready for DQI change” above. The tabs can copied and saved into text files for modifying DQI codes and comments using QWDATA. To regenerate the tabs if more results have been added to the “Ready for DQI change” tab, delete the current qwsample and qwresult tabs and hit the “Generate batch files” button again.</p>
</div>
</div>
<div id="nwis-flag-descriptions" class="section level2">
<h2>NWIS Flag descriptions</h2>
<div id="sc_badlabvsfield" class="section level3">
<h3>SC_badLabVSField</h3>
<p>The difference between Lab SC (90095) and field SC (00095) is greater than 10%</p>
</div>
<div id="section" class="section level3">
<h3>30.01.</h3>
<p>pH lower than expected Every water-quality sample (environmental and QC) had its pH (p00400) checked for appropriate ranges. If the pH value is less than 4.5, the sample is flagged for 30.01.</p>
</div>
<div id="ph-higher-than-expected" class="section level3">
<h3>30.02. pH higher than expected</h3>
<p>Every water-quality sample (environmental and QC) had its pH (p00400) checked for appropriate ranges. If the pH value is higher than 9, the sample is flagged for 30.02.</p>
</div>
<div id="dissolved-oxygen-higher-than-expected" class="section level3">
<h3>30.03. Dissolved Oxygen higher than expected</h3>
<p>Every water-quality sample (environmental and QC) had its dissolved oxygen (p00300) checked for appropriate ranges. If the D.O. value is higher than 25, the sample is flagged for 30.03.</p>
</div>
<div id="greater-than-max-value-in-old-data" class="section level3">
<h3>30.11. Greater than max value in old data</h3>
<p>New Environmental samples are compared to “old” environmental samples at the same site from water-year 1996 and later, for pesticides, nutrients, field parameters, and major ions. When a parameter has 5 or more “old” values at the site, and a new sample has a new maximum for that parameter, that sample and parameter are flagged for 30.11. Pesticides in Schedule 2437 which existed in the earlier schedules 2033 or 2060 (under different pcodes) are compared to the older pcodes as well as the Schedule 2437 pcodes.</p>
</div>
<div id="less-than-min-value-in-old-data" class="section level3">
<h3>30.12. Less than min value in old data</h3>
<p>New Environmental samples are compared to “old” environmental samples at the same site from water-year 1996 and later, for pesticides, nutrients, field parameters, and major ions. When a parameter has 5 or more “old” values at the site, and a new sample has a new minimum for that parameter, that sample and parameter are flagged for 30.12. Pesticides in Schedule 2437 which existed in the earlier schedules 2033 or 2060 (under different pcodes) are compared to the older pcodes as well as the Schedule 2437 pcodes.</p>
</div>
<div id="schedule-2437-pesticide-hits-greater-than-max-hits-in-old-data" class="section level3">
<h3>30.13. Schedule 2437 Pesticide hits greater than max hits in old data</h3>
<p>The number of Schedule 2437 pesticide hits in new environmental samples is compared to 2437 pesticide hits in “old” environmental samples at the same site from water-year 2013 and later (the year Schedule 2437 began). When a site has 5 or more “old” pesticide samples and a new sample has a new maximum number of pesticide hits, that sample is flagged for 30.13. Only pesticides in Schedule 2437 are counted as hits.</p>
</div>
<div id="less-than-minimum-pesticide-hits-in-old-data" class="section level3">
<h3>30.14 Less than minimum pesticide hits in old data</h3>
<p>The number of Schedule 2437 pesticide hits in new environmental samples is compared to 2437 pesticide hits in “old” environmental samples at the same site from water-year 2013 and later (the year Schedule 2437 began). When a site has five or more “old” pesticide samples and a new sample has a new minimum number of pesticide hits, that sample is flagged for 30.14. Only pesticides in Schedule 2437 are counted as hits.</p>
</div>
<div id="greater-than-99p-in-old-data" class="section level3">
<h3>30.15. Greater than 99p in old data</h3>
<p>New Environmental samples are compared to “old” environmental samples at the same site from water-year 1996 and later, for pesticides, nutrients, field parameters, and major ions. When a parameter has 24 or more “old” values at the site, and a new sample has a value greater than the 99th percentile of the “old” data set for that parameter, that sample and parameter are flagged for 30.15. Pesticides in Schedule 2437 which existed in the earlier schedules 2033 or 2060 (under different pcodes) are compared to the older pcodes as well as the Schedule 2437 pcodes.</p>
</div>
<div id="less-than-1p-in-old-data" class="section level3">
<h3>30.16. Less than 1p in old data</h3>
<p>New Environmental samples are compared to “old” environmental samples at the same site from water-year 1996 and later, for pesticides, nutrients, field parameters, and major ions. When a parameter has 24 or more “old” values at the site, and a new sample has a value less than the 1st percentile of the “old” data set for that parameter, that sample and parameter are flagged for 30.15. Pesticides in Schedule 2437 which existed in the earlier schedules 2033 or 2060 (under different pcodes) are compared to the older pcodes as well as the Schedule 2437 pcodes.</p>
</div>
<div id="questionable-cation-anion-balance" class="section level3">
<h3>30.21. Questionable cation-anion balance</h3>
<p>For each environmental sample, the cation-anion percent difference was be calculated (using the same formula, but a slightly simpler procedure, than what NWIS-QWDATA uses) and compared to the value for specific conductance (P00095). The cation-anion ballance is flagged for 30.21 if any of the following conditions is true 1. specific conductance is less than or equal to 100 microsiemens/cm, AND percent difference is greater (in absolute value) than +/- 15 percent 2. specific conductance is greater than 100 and less than or equal to 1000 microsiemens/cm, AND percent difference is greater (in absolute value) than +/- 10 percent 3. specific conductance is greater than 1000 microsiemens/cm, AND percent difference is greater (in absolute value) than +/- 5 percent</p>
</div>
</div>
</div>
<div id="suggested-wqreview-and-qwdata-workflow-for-flipping-dqi-codes" class="section level1">
<h1>Suggested WQReview and QWDATA workflow for flipping DQI codes</h1>
<div id="wqreview" class="section level2">
<h2>WQReview</h2>
<ol style="list-style-type: decimal">
<li>Use WQReview to pull data of interest.</li>
<li>Review the Excel workbook tables and WQReview plots as part of your result review.</li>
<li>Copy results that have been reviewed from the Excel “DQI needs review” tab to the “Ready for DQI change”.</li>
<li>Based on your review, add the new DQI code (R, Q, etc.) to the “DQI_CD_REVIEWED” column.</li>
<li>Add any result level review comments to be added to NWIS in the “RESULT_CM_NWIS_REVIEWED” column.</li>
<li>Put the comment type (F for field or L for Lab) in the “RESULT_CM_TYPE_REVIEWED” column. <strong>Note that any comments previously stored in NWIS will be overwritten upon batch upload.</strong> Existing comments can be viewed in the <em>Data by result</em> tab, <em>RESULT_CM_TX</em> column.</li>
<li>Add any additional comments to the “RESULT_NOTES_WQREVIEW” column. These will not be uploaded to NWIS, they will only be saved when the Excel workbook is saved.</li>
<li>Under the WQReview “Generate batch DQI flip files” header, hit the “Generate batch files” button. A qwsample and qwresult tab will be generated in the Excel workbook.</li>
<li>Using Windows Explorer, create or navigate to a project folder in your mapped home directory on NWIS. Save the Excel workbook here.</li>
<li>Copy everything but the column titles from the qwsample and qwresult Excel workbook tabs and paste them into seperate files using a text editor (Notepad, Notepad++, Wordpad) and save them in the project folder as qwsample and qwresult files. Some Water Quality Specialists prefer the qwsample and qwresult file to have a username and date/time stamp appended to the file name. E.g. qwsample_tmills_20181001</li>
</ol>
</div>
<div id="qwdata---consult-with-your-water-quality-specialist-local-data-manager-andor-data-base-administrator-about-your-wsc-practices-for-batch-file-changes-in-qwdata." class="section level2">
<h2>QWDATA - Consult with your Water Quality Specialist, Local Data Manager, and/or Data Base Administrator about your WSC practices for batch file changes in QWDATA.</h2>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
